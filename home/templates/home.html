{% extends 'base.html' %}

{% block title %}Home Page{% endblock %}
{% block content %}
<div class="container mt-3">
   <h4>Dashboard : {{ user.username|capfirst }}</h4>
    <ul class="nav nav-tabs mt-3" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="Bug-tab" data-toggle="tab" href="#Bug" role="tab" aria-controls="Bug" aria-selected="true">Bugs</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="Feature-tab" data-toggle="tab" href="#Feature" role="tab" aria-controls="Feature" aria-selected="false">Features</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="Current-tab" data-toggle="tab" href="#Current" role="tab" aria-controls="Current" aria-selected="false">Projects</a>
        </li>
    </ul>

     {% comment %}  <---------- BUGS ----------> {% endcomment %}


    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="Bug" role="tabpanel"    aria-labelledby="Bug-tab">
            <p class="lead text-muted tab-display">
                Bugs list of all the bugs that have been currently posted online by our community that they habe found while working for the company and is here help others in finding a solution to a similar problem. Everyones comments are listed below each post you view.
            </p>
            <div class="row mb-2">
                {% for bug in bugs %}
                    <div class="col-md-6">
                        <div class="card flex-md-row mb-4 shadow-sm h-md-250">
                            <div class="card-body d-flex flex-column align-items-start">
                            <strong class="d-inline-block mb-2 text-primary">{{ bug.author }}</strong>
                            <h3 class="mb-0">
                                <a class="text-dark" href="#">{{ bug.title }}</a>
                            </h3>
                            <div class="mb-1 text-muted">{{ bug.created_date| date:"D j Y " }}</div>
                            <p class="card-text mb-auto">{{ bug.description|truncatechars:50 }}</p>
                            <a href="#">
                                <button type="button" class="btn btn-info btn-sm mt-3">
                                    View post
                                </button>
                            </a>
                        </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
        
        {% comment %}  <---------- FEATURES ----------> {% endcomment %}

        <div class="tab-pane fade" id="Feature" role="tabpanel" aria-labelledby="Feature-tab">
            <p class="lead text-muted tab-display">
                Features is a list of features that have been posted by the community that they wish to have while working at the company. Each feature will have comments posted on below. If you wish to push the feature to the top of priority over others then you simply add the feature to your cart and purchase through the website.
            </p>
            <div class="row mb-2">
                {% for feature in features %}
                    <div class="col-md-6">
                        <div class="card flex-md-row mb-4 shadow-sm h-md-250">
                            <div class="card-body d-flex flex-column align-items-start">
                            <strong class="d-inline-block mb-2 text-primary">{{ feature.author }}</strong>
                            <h3 class="mb-0">
                                <a class="text-dark" href="#">{{ feature.title }}</a>
                            </h3>
                            <div class="mb-1 text-muted">{{ feature.created_date| date:"D j Y " }}</div>
                            <p class="card-text mb-auto">{{ feature.description|truncatechars:50 }}</p>
                            <a href="#">
                                <button type="button" class="btn btn-info btn-sm mt-3">
                                    View post
                                </button>
                            </a>
                        </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>

        {% comment %}  <------------ PROJECTS ----------> {% endcomment %}

        <div class="tab-pane fade" id="Current" role="tabpanel" aria-labelledby="Current-tab">
            <p class="lead text-muted tab-display">
                Projects section currently displays any bugs or features that you have posted.
            </p>
            {% if ProfileFeature %}
                <h5>Features</h5>
                <div class="row mb-2">
                    {% for feature in ProfileFeature %}
                            <div class="col-md-6">
                                <div class="card flex-md-row mb-4 shadow-sm h-md-250">
                                    <div class="card-body d-flex flex-column align-items-start">
                                    <strong class="d-inline-block mb-2 text-primary">{{ feature.author }}</strong>
                                    <h3 class="mb-0">
                                        <a class="text-dark" href="#">{{ feature.title }}</a>
                                    </h3>
                                    <div class="mb-1 text-muted">{{ feature.created_date| date:"D j Y " }}</div>
                                    <p class="card-text mb-auto">{{ feature.description|truncatechars:50 }}</p>
                                    <a href="#">
                                        <button type="button" class="btn btn-info btn-sm mt-3">
                                            View post
                                        </button>
                                    </a>
                                </div>
                                </div>
                            </div>
                        {% endfor %} 
                </div>
            {% endif %}
            {% if ProfileBug %}
                <h5>Bugs</h5>
                <div class="row mb-2">
                    {% for bug in ProfileBug %}
                        <div class="col-md-6">
                            <div class="card flex-md-row mb-4 shadow-sm h-md-250">
                                <div class="card-body d-flex flex-column align-items-start">
                                <strong class="d-inline-block mb-2 text-primary">{{ bug.author }}</strong>
                                <h3 class="mb-0">
                                    <a class="text-dark" href="#">{{ bug.title }}</a>
                                </h3>
                                <div class="mb-1 text-muted">{{ bug.created_date| date:"D j Y " }}</div>
                                <p class="card-text mb-auto">{{ bug.description|truncatechars:50 }}</p>
                                <a href="#">
                                    <button type="button" class="btn btn-info btn-sm mt-3">
                                        View post
                                    </button>
                                </a>
                            </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        
    </div>
</div>


{% endblock %}